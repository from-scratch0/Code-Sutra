## HTTP的架构特点

HTTP是客户端-服务器模式中请求-响应所用的协议，在这种模式中，客户端（一般为web服务器）向服务器提交HTTP请求，服务器响应请求的资源

- HTTP是**半双工**协议，在同一时刻数据只能单向流动，客户端向服务器发送请求（单向的），然后服务器响应请求（单向的）
- 服务器不能主动推送数据给浏览器

半工：单向 双工：双向



## 双向通信

### 轮询

轮询是通过浏览器定时地向web服务器发送http的Get请求，服务器收到请求后，就把最新的数据发回给客户端，客户端得到数据后，将其显示出来，然后再定期地重复这一过程

ajax轮询需要服务器有很快的处理速度和资源
需要不断请求服务器

### 长轮询

长轮询是服务端主动向客户端发送数据的最常见的方式之一

通过长轮询，客户端打开了一个到服务端的HTTP连接直到返回响应数据

当服务端有新数据需要发送时，它会把新数据作为响应发送给客户端



## `WebSocket`

```Websockets_API```规范定义了一个API用以在网页浏览器和服务器建立一个socket连接：在客户端和服务器保有一个持久的连接，两边可以在任意时间开始发送数据

**HTML5**开始提供的一种浏览器与服务器进行**全双工**通讯的网络技术

属于**应用层**协议，基于TCP传输协议，并复用HTTP的握手通道

### 优势

- 支持双向通信，实时性更强
- 更好的二进制支持
- 较少的控制开销：连接创建后，`ws`客户端、服务端进行数据交换时，协议控制的数据包头部较小

